/* Root container positions the effect and sets perspective */
.retrogrid-root {
  pointer-events: none;
  position: absolute;
  inset: 0;
  overflow: hidden;
  opacity: 0.5;
  perspective: 200px;
}

/* Angle (same behavior as rotateX(var(--grid-angle))) */
.retrogrid-plane {
  position: absolute;
  inset: 0;
  transform: rotateX(var(--grid-angle, 65deg));
}

/* The tiled grid (animated translateY) */
.retrogrid-tiles {
  position: absolute;
  inset: 0 0 0 0;
  height: 300vh;
  width: 600vw;
  margin-left: -50%;
  transform-origin: 100% 0 0;
  background-repeat: repeat;
  background-size: 60px 60px;

  /* Purple theme grid lines to match your brand */
  background-image: linear-gradient(
      to right,
      rgba(91, 71, 176, 0.3) 1px,
      transparent 0
    ),
    linear-gradient(to bottom, rgba(91, 71, 176, 0.3) 1px, transparent 0);

  animation: rg-grid 15s linear infinite;
}

/* The fade gradient that softens the top area */
.retrogrid-gradient {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, #ffffff, transparent 90%);
}

/* Animation (same values as Tailwind keyframes) */
@keyframes rg-grid {
  0% {
    transform: translateY(-50%);
  }
  100% {
    transform: translateY(0);
  }
}

/* Mobile optimizations */
@media (max-width: 768px) {
  .retrogrid-root {
    opacity: 0.4;
  }

  .retrogrid-tiles {
    background-size: 50px 50px;
    animation: rg-grid 12s linear infinite; /* Faster on mobile */
    background-image: linear-gradient(
        to right,
        rgba(91, 71, 176, 0.25) 1px,
        transparent 0
      ),
      linear-gradient(to bottom, rgba(91, 71, 176, 0.25) 1px, transparent 0);
  }
}

@media (max-width: 480px) {
  .retrogrid-root {
    opacity: 0.3;
  }

  .retrogrid-tiles {
    background-size: 45px 45px;
    animation: rg-grid 10s linear infinite; /* Even faster on small screens */
    background-image: linear-gradient(
        to right,
        rgba(91, 71, 176, 0.2) 1px,
        transparent 0
      ),
      linear-gradient(to bottom, rgba(91, 71, 176, 0.2) 1px, transparent 0);
  }
}
